## PRD: Golang 이미지 변환 CLI 도구 (보완)

### 1. 제품 개요

이 제품은 미리캔버스에 이미지를 업로드하는 사용자를 위해 Golang으로 개발된 CLI 도구입니다. 사용자는 이 도구를 통해 **JPG 및 PNG** 이미지의 크기, DPI를 미리캔버스 권장 사양에 맞춰 변환하고, 필요에 따라 워터마크를 제거하여 최적화된 이미지를 손쉽게 업로드할 수 있습니다. **단일 파일에 대한 변환만 지원**하며, 향후 웹 서비스에서 활용될 수 있도록 라이브러리 형태의 설계도 고려합니다.

### 2. 목표

*   사용자가 미리캔버스에 JPG 및 PNG 이미지를 업로드할 때 발생하는 크기 및 DPI 문제 해결
*   이미지 품질 손실을 최소화하면서 효율적인 단일 파일 변환 기능 제공
*   편리한 CLI 인터페이스를 통해 사용성 증대
*   워터마크 제거 기능을 통해 사용자의 작업 효율성 향상
*   향후 웹 서비스에서 재사용 가능한 라이브러리 형태로 설계하여 개발 효율성 증대

### 3. 주요 기능

#### 3.1. 이미지 변환 기능

*   **지원 형식:** **JPG 및 PNG 이미지 형식만을 지원**합니다.
*   **크기 지정 변환:** 사용자가 원하는 가로/세로 픽셀 또는 비율에 맞춰 이미지 크기를 조절합니다.
*   **DPI 지정 변환:** 미리캔버스 권장 DPI(예: 72dpi 또는 96dpi)로 이미지를 변환합니다.
*   **이미지 손실 최소화:** 최적화된 리샘플링 알고리즘을 사용하여 변환 시 이미지 품질 손실을 최소화합니다.

#### 3.2. 워터마크 제거 기능

*   **영역 지정 제거:** 사용자가 이미지 내 워터마크 영역을 지정하여 제거합니다. (초기 버전에서는 단순 블러/채우기 방식)

#### 3.3. CLI 인터페이스

*   **명령어 기반 조작:** 모든 기능을 CLI 명령어를 통해 실행할 수 있습니다.
*   **간결한 옵션:** 직관적이고 사용하기 쉬운 옵션 구성을 제공합니다.
*   **진행 상황 표시:** 변환 작업 진행 상황을 사용자에게 피드백합니다.
*   **오류 처리:** 발생 가능한 오류에 대한 명확한 메시지를 제공하고 적절히 처리합니다.
*   **단일 파일 처리:** 한 번에 하나의 이미지 파일만 처리합니다.

### 4. 비기능 요구사항

*   **성능:** 단일 이미지 파일을 빠르게 처리할 수 있어야 합니다.
*   **안정성:** 예외 상황에서도 프로그램이 비정상 종료되지 않고 안정적으로 동작해야 합니다.
*   **보안:** 사용자 개인 정보 및 이미지 데이터 보호에 대한 고려 (로컬에서만 처리되므로 네트워크 보안은 크게 중요치 않으나, 향후 클라우드 연동 시 고려)
*   **호환성:** Windows, macOS, Linux 등 다양한 운영체제에서 실행 가능해야 합니다.
*   **확장성 (라이브러리 형태 고려):**
    *   **모듈화:** 핵심 이미지 처리 로직은 별도의 라이브러리 모듈로 분리하여 설계합니다.
    *   **재사용성:** CLI 도구 외에 향후 다른 Golang 기반 웹 서비스나 애플리케이션에서 이미지 변환 기능을 재사용할 수 있도록 인터페이스를 정의합니다.
    *   **명확한 API:** 라이브러리 사용자를 위한 명확하고 일관된 API를 제공합니다.

### 5. 기술 스택

*   **주요 언어:** Golang
*   **이미지 처리 라이브러리:** `image`, `imaging` 등 Golang 기반의 효율적인 이미지 처리 라이브러리 활용
*   **CLI 라이브러리:** `cobra`, `urfave/cli` 등 Golang CLI 개발에 유용한 라이브러리 활용

### 6. 출시 계획 (MVP 기준)

*   **1단계: 핵심 변환 기능 구현 (MVP)**
    *   **JPG 및 PNG** 이미지의 지정 크기 및 DPI 변환
    *   CLI 기본 명령어 구조 및 단일 파일 처리
    *   이미지 품질 손실 최소화
    *   간단한 워터마크 제거 (영역 지정 후 블러 처리)

*   **2단계: 기능 개선 및 라이브러리화**
    *   핵심 이미지 처리 로직의 라이브러리 모듈 분리 및 문서화
    *   고급 워터마크 제거 기능 연구 및 도입 고려 (영역 지정 외 색상 기반 등)

*   **3단계: 배포 및 문서화**
    *   실행 파일 배포 (각 OS별)
    *   자세한 사용 설명서 및 예제 제공 (CLI 사용법 및 라이브러리 사용법)

### 7. 고려하지 않는 기능

*   **GIF 이미지 지원:** 초기 버전에서는 JPG 및 PNG만 지원하며, GIF는 고려하지 않습니다.
*   **미리캔버스 API 연동 기능:** 자동 업로드 등 미리캔버스 API 연동은 고려하지 않습니다.
*   **GUI 버전 기능:** 사용자 인터페이스는 CLI 형태로만 제공하며, GUI 버전 개발은 고려하지 않습니다.
*   **일괄 처리 기능:** 단일 파일에 대한 변환만 지원하며, 여러 파일을 한 번에 처리하는 일괄 처리는 고려하지 않습니다.

